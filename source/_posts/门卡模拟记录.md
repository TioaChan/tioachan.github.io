---
title: 门卡模拟记录
date: 2020-12-15 20:40:53
tags: ["pn532", "门卡模拟"]
---

换了新地方，用上了门禁卡，寻思着手机和手环上的门卡模拟功能终于有了用途，以此文记录折腾过程。

<!--more-->

## 硬件

-   PN532，针脚焊上或拿胶带固定就可
    ![PN532](/images/20210103202704.jpg)

-   ~~CUID 白卡~~

-   一加 7 Pro

-   ~~小米手环 5~~

## 软件

-   MifareOneTool
-   [PN532 驱动](https://alumnialbany-my.sharepoint.com/:u:/g/personal/asset_alumni_albany_edu/Efc5jPpVPndEiSeBT-EW6-sB6S6wRpzLBKStXHl6DWRPmg?e=hYUY8c)（注：Windows 更新的驱动不可用）
-   蛐蛐的 PN532_GUI

## 过程

### 部分加密卡

在`MifareOneTool`的`复制卡模式`页点击`一键解原卡`，破解成功保存 dump 文件。

### 完全加密卡

由于本人过于菜鸡而选择使用`蛐蛐的 PN532_GUI`这个软件在 Windows 下进行破解，跑了一夜密钥也是破解出来了，跑出来的密钥是`fffffffe`，太草了。

![草，一种名词](/images/v2-81243b63e0da942ea4d04ee2180bcf13_1440w.jpg)

跑出密钥之后回到`MifareOneTool`，在`复制卡模式`页点击`知一密破解`，填入跑出来的密钥，保存 dump 文件。

### 模拟

打开[`一加公交卡`](https://www.apkmirror.com/apk/oneplus-ltd/bus-card/)，生成一张空白门卡，选择立即录入，将手机摄像头部分放在读卡器上，在`MifareOneTool`的`复制卡模式`页依次点击`扫描卡片`、`检测加密`、`写C/FUID卡`，选择保存的 dump 文件，写入即可。

![MifareOneTool](/images/20210118163400.png)

---

**注意**

我并没有先去生成一个包含卡片 ID 的空白卡，因为我发现直接对手机生成的空白卡直接写入 dump 文件即可通过门禁，手环也是。

---

## 参考

-   [1] [Mifare 门禁卡复制 - 疯狂的盒子](https://blog.czbix.com/clone-MIFARE-Classic-card.html)
